#! /usr/bin/env python
# encoding: utf-8
#*********************************************************************
# Copyright 2010, Institute of Computer and Network Engineering,
#                 TU-Braunschweig
# All rights reserved
# Any reproduction, use, distribution or disclosure of this program,
# without the express, prior written consent of the authors is 
# strictly prohibited.
#
# University of Technology Braunschweig
# Institute of Computer and Network Engineering
# Hans-Sommer-Str. 66
# 38118 Braunschweig, Germany
#
# ESA SPECIAL LICENSE
#
# This program may be freely used, copied, modified, and redistributed
# by the European Space Agency for the Agency's own requirements.
#
# The program is provided "as is", there is no warranty that
# the program is correct or suitable for any purpose,
# neither implicit nor explicit. The program and the information in it
# contained do not necessarily reflect the policy of the European 
# Space Agency or of TU-Braunschweig.
#*********************************************************************
# Title:      wscript
#
# ScssId:
#
# Origin:     HW-SW SystemC Co-Simulation SoC Validation Platform
#
# Purpose:    this file contains the build system for global tests
#
# Method:     $ ./waf configure; ./waf # to build it on top level
#
# Modified on $Date: 2011-06-07 10:41:59 +0200 (Tue, 07 Jun 2011) $
#          at $Revision: 446 $
#          by $Author: HWSWSIM $
#
# Principal:  European Space Agency
# Author:     VLSI working group @ IDA @ TUBS
# Maintainer: Rolf Meyer
# Reviewed:
#*********************************************************************
top = '../..'

def build(bld):
  # AES.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'aes.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['AES.c'],
     install_path = None,
  )

  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'aes.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'aes.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )
  
  # bcnt.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'bcnt.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['bcnt.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'bcnt.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'bcnt.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # blit.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'blit.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['blit.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'blit.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'blit.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # crc.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'crc.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['crc.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'crc.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'crc.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # des.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'des.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['des.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'des.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'des.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # dhry.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'dhry.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['dhry.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'dhry.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'dhry.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # engine.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'engine.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['engine.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'engine.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'engine.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # fft.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'fft.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['fft.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'fft.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'fft.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # fib.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'fib.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['fib.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'fib.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'fib.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # fir2.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'fir2.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['fir2.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'fir2.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'fir2.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # gamma.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'gamma.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['gamma.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'gamma.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'gamma.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # hanoi.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'hanoi.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['hanoi.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'hanoi.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'hanoi.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # heapsort.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'heapsort.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['heapsort.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'heapsort.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'heapsort.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # jpeg.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'jpeg.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['jpeg.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'jpeg.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'jpeg.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # lms.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'lms.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['lms.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'lms.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'lms.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # matrix.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'matrix.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['matrix.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'matrix.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'matrix.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # mdrall.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'mdrall.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['mdrAll.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'mdrall.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'mdrall.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # pocsag.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'pocsag.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['pocsag.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'pocsag.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'pocsag.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # queens.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'queens.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['queens.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'queens.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'queens.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # quicksort.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'quicksort.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['quicksort.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'quicksort.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'quicksort.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # tolstoy.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'tolstoy.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['tolstoy.c'],
     install_path = None,
  )
  """
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'tolstoy.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'tolstoy.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )
  """
  # v42.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'v42.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['v42.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'v42.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'v42.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # wavelt.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'wavelt.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['wavelt.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'wavelt.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'wavelt.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

  # whets.sparc
  bld(
     features     = 'c cprogram sparc',
     target       = 'whets.sparc',
     cflags       = '-static -g -O1 -lm -mno-fpu',
     linkflags    = '-static -g -O1 -lm -mno-fpu',
     source       = ['whets.c'],
     install_path = None,
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'whets.sparc',
  )
  
  bld(
      features    = 'systest',
      system      = 'leon3mp.platform',
      rom         = 'default.prom',
      ram         = 'whets.sparc',
      args       = ['--option', 'conf.system.at=true'],
  )

